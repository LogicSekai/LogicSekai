import{P as F,a as x}from"./C-_J5zdQ.js";import{c as R,e as A,u as _,d as E,P,a as M}from"./9P9GaFzr.js";import{g as w,I as b,n as j,Z as D,z as h,o as y,w as p,b as g,y as a,A as V,D as N,s as O,B as S,C as z,q as L,_ as U}from"./C8_oyFXb.js";import{i as I,C as Z}from"./BRuK5qrw.js";import{i as B,u as H,_ as J}from"./CtNLBEk6.js";import{u as Q,g as W,w as X,f as Y}from"./CD_9I7Q7.js";import{i as G}from"./DB_d4atD.js";function K(l,n){return I(l)?!1:Array.isArray(l)?l.some(e=>B(e,n)):B(l,n)}const[ee,me]=R("CheckboxGroupRoot");function k(l){return l==="indeterminate"}function T(l){return k(l)?"indeterminate":l?"checked":"unchecked"}const ae=w({__name:"RovingFocusItem",props:{tabStopId:{},focusable:{type:Boolean,default:!0},active:{type:Boolean},allowShiftKey:{type:Boolean},asChild:{type:Boolean},as:{default:"span"}},setup(l){const n=l,e=G(),d=Q(),c=b(()=>n.tabStopId||d),v=b(()=>e.currentTabStopId.value===c.value),{getItems:s,CollectionItem:u}=A();j(()=>{n.focusable&&e.onFocusableItemAdd()}),D(()=>{n.focusable&&e.onFocusableItemRemove()});function m(t){if(t.key==="Tab"&&t.shiftKey){e.onItemShiftTab();return}if(t.target!==t.currentTarget)return;const r=W(t,e.orientation.value,e.dir.value);if(r!==void 0){if(t.metaKey||t.ctrlKey||t.altKey||!n.allowShiftKey&&t.shiftKey)return;t.preventDefault();let i=[...s().map(f=>f.ref).filter(f=>f.dataset.disabled!=="")];if(r==="last")i.reverse();else if(r==="prev"||r==="next"){r==="prev"&&i.reverse();const f=i.indexOf(t.currentTarget);i=e.loop.value?X(i,f+1):i.slice(f+1)}N(()=>Y(i))}}return(t,r)=>(y(),h(a(u),null,{default:p(()=>[g(a(F),{tabindex:v.value?0:-1,"data-orientation":a(e).orientation.value,"data-active":t.active?"":void 0,"data-disabled":t.focusable?void 0:"",as:t.as,"as-child":t.asChild,onMousedown:r[0]||(r[0]=i=>{t.focusable?a(e).onItemFocus(c.value):i.preventDefault()}),onFocus:r[1]||(r[1]=i=>a(e).onItemFocus(c.value)),onKeydown:m},{default:p(()=>[V(t.$slots,"default")]),_:3},8,["tabindex","data-orientation","data-active","data-disabled","as","as-child"])]),_:3}))}}),[te,oe]=R("CheckboxRoot"),se=w({inheritAttrs:!1,__name:"CheckboxRoot",props:{defaultValue:{type:[Boolean,String]},modelValue:{type:[Boolean,String,null],default:void 0},disabled:{type:Boolean},value:{default:"on"},id:{},asChild:{type:Boolean},as:{default:"button"},name:{},required:{type:Boolean}},emits:["update:modelValue"],setup(l,{emit:n}){const e=l,d=n,{forwardRef:c,currentElement:v}=_(),s=ee(null),u=E(e,"modelValue",d,{defaultValue:e.defaultValue,passive:e.modelValue===void 0}),m=b(()=>(s==null?void 0:s.disabled.value)||e.disabled),t=b(()=>I(s==null?void 0:s.modelValue.value)?u.value==="indeterminate"?"indeterminate":u.value:K(s.modelValue.value,e.value));function r(){if(I(s==null?void 0:s.modelValue.value))u.value=k(u.value)?!0:!u.value;else{const o=[...s.modelValue.value||[]];if(K(o,e.value)){const $=o.findIndex(C=>B(C,e.value));o.splice($,1)}else o.push(e.value);s.modelValue.value=o}}const i=H(v),f=b(()=>{var o;return e.id&&v.value?(o=document.querySelector(`[for="${e.id}"]`))==null?void 0:o.innerText:void 0});return oe({disabled:m,state:t}),(o,$)=>{var C,q;return y(),h(U((C=a(s))!=null&&C.rovingFocus.value?a(ae):a(F)),S(o.$attrs,{id:o.id,ref:a(c),role:"checkbox","as-child":o.asChild,as:o.as,type:o.as==="button"?"button":void 0,"aria-checked":a(k)(t.value)?"mixed":t.value,"aria-required":o.required,"aria-label":o.$attrs["aria-label"]||f.value,"data-state":a(T)(t.value),"data-disabled":m.value?"":void 0,disabled:m.value,focusable:(q=a(s))!=null&&q.rovingFocus.value?!m.value:void 0,onKeydown:z(L(()=>{},["prevent"]),["enter"]),onClick:r}),{default:p(()=>[V(o.$slots,"default",{modelValue:a(u),state:t.value}),a(i)&&o.name&&!a(s)?(y(),h(a(J),{key:0,type:"checkbox",checked:!!t.value,name:o.name,value:o.value,disabled:m.value,required:o.required},null,8,["checked","name","value","disabled","required"])):O("",!0)]),_:3},16,["id","as-child","as","type","aria-checked","aria-required","aria-label","data-state","data-disabled","disabled","focusable","onKeydown"])}}}),le=w({__name:"CheckboxIndicator",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{default:"span"}},setup(l){const{forwardRef:n}=_(),e=te();return(d,c)=>(y(),h(a(P),{present:d.forceMount||a(k)(a(e).state.value)||a(e).state.value===!0},{default:p(()=>[g(a(F),S({ref:a(n),"data-state":a(T)(a(e).state.value),"data-disabled":a(e).disabled.value?"":void 0,style:{pointerEvents:"none"},"as-child":d.asChild,as:d.as},d.$attrs),{default:p(()=>[V(d.$slots,"default")]),_:3},16,["data-state","data-disabled","as-child","as"])]),_:3},8,["present"]))}}),pe=w({__name:"Checkbox",props:{defaultValue:{type:[Boolean,String]},modelValue:{type:[Boolean,String,null]},disabled:{type:Boolean},value:{},id:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue"],setup(l,{emit:n}){const e=l,d=n,c=b(()=>{const{class:s,...u}=e;return u}),v=M(c,d);return(s,u)=>(y(),h(a(se),S(a(v),{class:a(x)("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e.class)}),{default:p(()=>[g(a(le),{class:"flex h-full w-full items-center justify-center text-current"},{default:p(()=>[V(s.$slots,"default",{},()=>[g(a(Z),{class:"h-4 w-4"})])]),_:3})]),_:3},16,["class"]))}});export{pe as _};
