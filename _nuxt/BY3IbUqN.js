import{_ as g}from"./CJPKKpUJ.js";import{g as h,j as D,l as k,r as _,m as x,n as V,c as y,a as e,p as P,q as C,s as N,v as n,x as d,y as a,t as S,b as B,w as E,o as b,d as M}from"./C8_oyFXb.js";import{_ as R}from"./C71vrHGD.js";const U=()=>({validateEmail:c=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(c),validatePassword:c=>c.length>=8}),j={class:"bg-gray-1 dark:bg-dark py-20 lg:py-[120px]"},A={class:"container mx-auto"},T={class:"flex flex-wrap -mx-4"},q={class:"w-full px-4"},z={class:"relative mx-auto max-w-[525px] overflow-hidden rounded-lg bg-white py-16 px-10 text-center sm:px-12 md:px-[60px] dark:bg-dark-2"},L={class:"mb-6"},$={class:"mb-6"},F={class:"mb-6"},G={class:"mb-6"},H={key:0,class:"text-red-500 text-sm text-right mb-4"},I={class:"text-base text-body-color dark:text-dark-6"},Q=h({__name:"register",setup(w){const{validateEmail:f,validatePassword:c}=U(),i=D(),p=k(),t=_({name:"",email:"",password:"",passwordConfirm:""}),o=x(""),u=x(!1),v=async()=>{var m,r;if(!f(t.email)){o.value="Please enter a valid email address";return}if(!c(t.password)){o.value="Password must be at least 8 characters";return}if(t.password!==t.passwordConfirm){o.value="Passwords do not match";return}u.value=!0,o.value="";try{await i.pb.collection("users").create({...t,role:"user"}),await i.login(t.email,t.password),p.push("/")}catch(l){console.error("Registration error:",l),o.value=l.message||"Registration failed. Please try again.",(r=(m=l.data)==null?void 0:m.data)!=null&&r.email&&(o.value=l.data.data.email.message)}finally{u.value=!1}};return V(async()=>{await i.initialize(),i.isAuthenticated&&p.push("/")}),(m,r)=>{const l=g;return b(),y("section",j,[e("div",A,[e("div",T,[e("div",q,[e("div",z,[r[7]||(r[7]=e("div",{class:"mb-10 text-center md:mb-16"},[e("a",{href:"javascript:void(0)",class:"mx-auto inline-block max-w-[220px]"},[e("img",{src:R,alt:"logo"})])],-1)),e("form",{onSubmit:C(v,["prevent"])},[e("div",L,[n(e("input",{type:"text",placeholder:"Name","onUpdate:modelValue":r[0]||(r[0]=s=>a(t).name=s),class:"w-full px-5 py-3 text-base bg-transparent border rounded-md outline-none border-stroke text-body-color dark:text-white dark:border-dark-3 focus:border-primary focus-visible:shadow-none"},null,512),[[d,a(t).name]])]),e("div",$,[n(e("input",{type:"text",placeholder:"Email","onUpdate:modelValue":r[1]||(r[1]=s=>a(t).email=s),class:"w-full px-5 py-3 text-base bg-transparent border rounded-md outline-none border-stroke text-body-color dark:text-white dark:border-dark-3 focus:border-primary focus-visible:shadow-none"},null,512),[[d,a(t).email]])]),e("div",F,[n(e("input",{type:"password",placeholder:"Password","onUpdate:modelValue":r[2]||(r[2]=s=>a(t).password=s),class:"w-full px-5 py-3 text-base bg-transparent border rounded-md outline-none border-stroke text-body-color dark:text-white dark:border-dark-3 focus:border-primary focus-visible:shadow-none"},null,512),[[d,a(t).password]])]),e("div",G,[n(e("input",{type:"password",placeholder:"Confirm Password","onUpdate:modelValue":r[3]||(r[3]=s=>a(t).passwordConfirm=s),class:"w-full px-5 py-3 text-base bg-transparent border rounded-md outline-none border-stroke text-body-color dark:text-white dark:border-dark-3 focus:border-primary focus-visible:shadow-none"},null,512),[[d,a(t).passwordConfirm]])]),a(o)?(b(),y("div",H,S(a(o)),1)):N("",!0),r[4]||(r[4]=e("div",{class:"mb-10"},[e("input",{type:"submit",value:"Daftar",class:"w-full px-5 py-3 text-base font-medium text-white transition border rounded-md cursor-pointer border-primary bg-primary hover:bg-opacity-90"})],-1))],32),e("p",I,[r[6]||(r[6]=e("span",{class:"pr-0.5"},"Sudah menjadi anggota?",-1)),B(l,{to:"/auth",class:"text-primary hover:underline"},{default:E(()=>r[5]||(r[5]=[M(" Masuk ")])),_:1})]),r[8]||(r[8]=P('<div><span class="absolute top-1 right-1"><svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="1.39737" cy="38.6026" r="1.39737" transform="rotate(-90 1.39737 38.6026)" fill="#3056D3"></circle><circle cx="1.39737" cy="1.99122" r="1.39737" transform="rotate(-90 1.39737 1.99122)" fill="#3056D3"></circle><circle cx="13.6943" cy="38.6026" r="1.39737" transform="rotate(-90 13.6943 38.6026)" fill="#3056D3"></circle><circle cx="13.6943" cy="1.99122" r="1.39737" transform="rotate(-90 13.6943 1.99122)" fill="#3056D3"></circle><circle cx="25.9911" cy="38.6026" r="1.39737" transform="rotate(-90 25.9911 38.6026)" fill="#3056D3"></circle><circle cx="25.9911" cy="1.99122" r="1.39737" transform="rotate(-90 25.9911 1.99122)" fill="#3056D3"></circle><circle cx="38.288" cy="38.6026" r="1.39737" transform="rotate(-90 38.288 38.6026)" fill="#3056D3"></circle><circle cx="38.288" cy="1.99122" r="1.39737" transform="rotate(-90 38.288 1.99122)" fill="#3056D3"></circle><circle cx="1.39737" cy="26.3057" r="1.39737" transform="rotate(-90 1.39737 26.3057)" fill="#3056D3"></circle><circle cx="13.6943" cy="26.3057" r="1.39737" transform="rotate(-90 13.6943 26.3057)" fill="#3056D3"></circle><circle cx="25.9911" cy="26.3057" r="1.39737" transform="rotate(-90 25.9911 26.3057)" fill="#3056D3"></circle><circle cx="38.288" cy="26.3057" r="1.39737" transform="rotate(-90 38.288 26.3057)" fill="#3056D3"></circle><circle cx="1.39737" cy="14.0086" r="1.39737" transform="rotate(-90 1.39737 14.0086)" fill="#3056D3"></circle><circle cx="13.6943" cy="14.0086" r="1.39737" transform="rotate(-90 13.6943 14.0086)" fill="#3056D3"></circle><circle cx="25.9911" cy="14.0086" r="1.39737" transform="rotate(-90 25.9911 14.0086)" fill="#3056D3"></circle><circle cx="38.288" cy="14.0086" r="1.39737" transform="rotate(-90 38.288 14.0086)" fill="#3056D3"></circle></svg></span><span class="absolute left-1 bottom-1"><svg width="29" height="40" viewBox="0 0 29 40" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="2.288" cy="25.9912" r="1.39737" transform="rotate(-90 2.288 25.9912)" fill="#3056D3"></circle><circle cx="14.5849" cy="25.9911" r="1.39737" transform="rotate(-90 14.5849 25.9911)" fill="#3056D3"></circle><circle cx="26.7216" cy="25.9911" r="1.39737" transform="rotate(-90 26.7216 25.9911)" fill="#3056D3"></circle><circle cx="2.288" cy="13.6944" r="1.39737" transform="rotate(-90 2.288 13.6944)" fill="#3056D3"></circle><circle cx="14.5849" cy="13.6943" r="1.39737" transform="rotate(-90 14.5849 13.6943)" fill="#3056D3"></circle><circle cx="26.7216" cy="13.6943" r="1.39737" transform="rotate(-90 26.7216 13.6943)" fill="#3056D3"></circle><circle cx="2.288" cy="38.0087" r="1.39737" transform="rotate(-90 2.288 38.0087)" fill="#3056D3"></circle><circle cx="2.288" cy="1.39739" r="1.39737" transform="rotate(-90 2.288 1.39739)" fill="#3056D3"></circle><circle cx="14.5849" cy="38.0089" r="1.39737" transform="rotate(-90 14.5849 38.0089)" fill="#3056D3"></circle><circle cx="26.7216" cy="38.0089" r="1.39737" transform="rotate(-90 26.7216 38.0089)" fill="#3056D3"></circle><circle cx="14.5849" cy="1.39761" r="1.39737" transform="rotate(-90 14.5849 1.39761)" fill="#3056D3"></circle><circle cx="26.7216" cy="1.39761" r="1.39737" transform="rotate(-90 26.7216 1.39761)" fill="#3056D3"></circle></svg></span></div>',1))])])])])])}}});export{Q as default};
