import{P as V,a as U}from"./C-_J5zdQ.js";import{u as be}from"./BZQmNK_q.js";import{c as Ce}from"./DyQWZwqU.js";import{c as fe,e as ae,z as Ee,A as ve,_ as me,u as O,x as we,h as J,s as xe,d as Pe,P as ke,g as ie,a as $e}from"./9P9GaFzr.js";import{g,Y as ye,m as x,A as C,z as p,s as L,y as e,o as u,w as f,d as H,t as j,I as D,M as Te,S as Re,n as oe,Z as _e,c as Q,b as S,B as R,q as De,a0 as Se,T as ee,$ as Fe,G as ne,H as re,U as Ae,a as Ie,aL as Me,_ as le}from"./C8_oyFXb.js";import{c as ue,X as Be}from"./BkW0jhkH.js";import{a as Z,g as Le}from"./BuXJJIhO.js";const[q,Ve]=fe("ToastProvider"),Oe=g({inheritAttrs:!1,__name:"ToastProvider",props:{label:{default:"Notification"},duration:{default:5e3},swipeDirection:{default:"right"},swipeThreshold:{default:50}},setup(r){const s=r,{label:a,duration:t,swipeDirection:o,swipeThreshold:d}=ye(s);ae({isProvider:!0});const w=x(),n=x(0),i=x(!1),c=x(!1);if(s.label&&typeof s.label=="string"&&!s.label.trim()){const y="Invalid prop `label` supplied to `ToastProvider`. Expected non-empty `string`.";throw new Error(y)}return Ve({label:a,duration:t,swipeDirection:o,swipeThreshold:d,toastCount:n,viewport:w,onViewportChange(y){w.value=y},onToastAdd(){n.value++},onToastRemove(){n.value--},isFocusedToastEscapeKeyDownRef:i,isClosePausedRef:c}),(y,h)=>C(y.$slots,"default")}}),Ke="toast.swipeStart",Ne="toast.swipeMove",Xe="toast.swipeCancel",ze="toast.swipeEnd",te="toast.viewportPause",se="toast.viewportResume";function Y(r,s,a){const t=a.originalEvent.currentTarget,o=new CustomEvent(r,{bubbles:!1,cancelable:!0,detail:a});s&&t.addEventListener(r,s,{once:!0}),t.dispatchEvent(o)}function de(r,s,a=0){const t=Math.abs(r.x),o=Math.abs(r.y),d=t>o;return s==="left"||s==="right"?d&&t>a:!d&&o>a}function Ue(r){return r.nodeType===r.ELEMENT_NODE}function ge(r){const s=[];return Array.from(r.childNodes).forEach(t=>{if(t.nodeType===t.TEXT_NODE&&t.textContent&&s.push(t.textContent),Ue(t)){const o=t.ariaHidden||t.hidden||t.style.display==="none",d=t.dataset.rekaToastAnnounceExclude==="";if(!o)if(d){const w=t.dataset.rekaToastAnnounceAlt;w&&s.push(w)}else s.push(...ge(t))}}),s}const We=g({__name:"ToastAnnounce",setup(r){const s=q(),a=Ee(1e3),t=x(!1);return ve(()=>{t.value=!0}),(o,d)=>e(a)||t.value?(u(),p(e(me),{key:0},{default:f(()=>[H(j(e(s).label.value)+" ",1),C(o.$slots,"default")]),_:3})):L("",!0)}}),[Ye,He]=fe("ToastRoot"),je=g({inheritAttrs:!1,__name:"ToastRootImpl",props:{type:{},open:{type:Boolean,default:!1},duration:{},asChild:{type:Boolean},as:{default:"li"}},emits:["close","escapeKeyDown","pause","resume","swipeStart","swipeMove","swipeCancel","swipeEnd"],setup(r,{emit:s}){const a=r,t=s,{forwardRef:o,currentElement:d}=O(),{CollectionItem:w}=ae(),n=q(),i=x(null),c=x(null),y=D(()=>typeof a.duration=="number"?a.duration:n.duration.value),h=x(0),F=x(y.value),B=x(0),P=x(y.value),v=ve(()=>{const m=new Date().getTime()-h.value;P.value=Math.max(F.value-m,0)},{fpsLimit:60});function T(m){m<=0||m===Number.POSITIVE_INFINITY||xe&&(window.clearTimeout(B.value),h.value=new Date().getTime(),B.value=window.setTimeout(E,m))}function E(m){var b,k;const _=(m==null?void 0:m.pointerType)==="";((b=d.value)==null?void 0:b.contains(J()))&&_&&((k=n.viewport.value)==null||k.focus()),_&&(n.isClosePausedRef.value=!1),t("close")}const A=D(()=>d.value?ge(d.value):null);if(a.type&&!["foreground","background"].includes(a.type)){const m="Invalid prop `type` supplied to `Toast`. Expected `foreground | background`.";throw new Error(m)}return Te(m=>{const _=n.viewport.value;if(_){const l=()=>{T(F.value),v.resume(),t("resume")},b=()=>{const k=new Date().getTime()-h.value;F.value=F.value-k,window.clearTimeout(B.value),v.pause(),t("pause")};return _.addEventListener(te,b),_.addEventListener(se,l),()=>{_.removeEventListener(te,b),_.removeEventListener(se,l)}}}),Re(()=>[a.open,y.value],()=>{F.value=y.value,a.open&&!n.isClosePausedRef.value&&T(y.value)},{immediate:!0}),we("Escape",m=>{t("escapeKeyDown",m),m.defaultPrevented||(n.isFocusedToastEscapeKeyDownRef.value=!0,E())}),oe(()=>{n.onToastAdd()}),_e(()=>{n.onToastRemove()}),He({onClose:E}),(m,_)=>(u(),Q(ee,null,[A.value?(u(),p(We,{key:0,role:"alert","aria-live":m.type==="foreground"?"assertive":"polite","aria-atomic":"true"},{default:f(()=>[H(j(A.value),1)]),_:1},8,["aria-live"])):L("",!0),e(n).viewport.value?(u(),p(Se,{key:1,to:e(n).viewport.value},[S(e(w),null,{default:f(()=>[S(e(V),R({ref:e(o),role:"alert","aria-live":"off","aria-atomic":"true",tabindex:"0"},m.$attrs,{as:m.as,"as-child":m.asChild,"data-state":m.open?"open":"closed","data-swipe-direction":e(n).swipeDirection.value,style:{userSelect:"none",touchAction:"none"},onPointerdown:_[0]||(_[0]=De(l=>{i.value={x:l.clientX,y:l.clientY}},["left"])),onPointermove:_[1]||(_[1]=l=>{if(!i.value)return;const b=l.clientX-i.value.x,k=l.clientY-i.value.y,I=!!c.value,M=["left","right"].includes(e(n).swipeDirection.value),$=["left","up"].includes(e(n).swipeDirection.value)?Math.min:Math.max,G=M?$(0,b):0,K=M?0:$(0,k),W=l.pointerType==="touch"?10:2,N={x:G,y:K},X={originalEvent:l,delta:N};I?(c.value=N,e(Y)(e(Ne),z=>t("swipeMove",z),X)):e(de)(N,e(n).swipeDirection.value,W)?(c.value=N,e(Y)(e(Ke),z=>t("swipeStart",z),X),l.target.setPointerCapture(l.pointerId)):(Math.abs(b)>W||Math.abs(k)>W)&&(i.value=null)}),onPointerup:_[2]||(_[2]=l=>{const b=c.value,k=l.target;if(k.hasPointerCapture(l.pointerId)&&k.releasePointerCapture(l.pointerId),c.value=null,i.value=null,b){const I=l.currentTarget,M={originalEvent:l,delta:b};e(de)(b,e(n).swipeDirection.value,e(n).swipeThreshold.value)?e(Y)(e(ze),$=>t("swipeEnd",$),M):e(Y)(e(Xe),$=>t("swipeCancel",$),M),I==null||I.addEventListener("click",$=>$.preventDefault(),{once:!0})}})}),{default:f(()=>[C(m.$slots,"default",{remaining:P.value,duration:y.value})]),_:3},16,["as","as-child","data-state","data-swipe-direction"])]),_:3})],8,["to"])):L("",!0)],64))}}),qe=g({__name:"ToastRoot",props:{defaultOpen:{type:Boolean,default:!0},forceMount:{type:Boolean},type:{default:"foreground"},open:{type:Boolean,default:void 0},duration:{},asChild:{type:Boolean},as:{default:"li"}},emits:["escapeKeyDown","pause","resume","swipeStart","swipeMove","swipeCancel","swipeEnd","update:open"],setup(r,{emit:s}){const a=r,t=s,{forwardRef:o}=O(),d=Pe(a,"open",t,{defaultValue:a.defaultOpen,passive:a.open===void 0});return(w,n)=>(u(),p(e(ke),{present:w.forceMount||e(d)},{default:f(()=>[S(je,R({ref:e(o),open:e(d),type:w.type,as:w.as,"as-child":w.asChild,duration:w.duration},w.$attrs,{onClose:n[0]||(n[0]=i=>d.value=!1),onPause:n[1]||(n[1]=i=>t("pause")),onResume:n[2]||(n[2]=i=>t("resume")),onEscapeKeyDown:n[3]||(n[3]=i=>t("escapeKeyDown",i)),onSwipeStart:n[4]||(n[4]=i=>{t("swipeStart",i),i.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:n[5]||(n[5]=i=>{t("swipeMove",i);const{x:c,y}=i.detail.delta,h=i.currentTarget;h.setAttribute("data-swipe","move"),h.style.setProperty("--reka-toast-swipe-move-x",`${c}px`),h.style.setProperty("--reka-toast-swipe-move-y",`${y}px`)}),onSwipeCancel:n[6]||(n[6]=i=>{t("swipeCancel",i);const c=i.currentTarget;c.setAttribute("data-swipe","cancel"),c.style.removeProperty("--reka-toast-swipe-move-x"),c.style.removeProperty("--reka-toast-swipe-move-y"),c.style.removeProperty("--reka-toast-swipe-end-x"),c.style.removeProperty("--reka-toast-swipe-end-y")}),onSwipeEnd:n[7]||(n[7]=i=>{t("swipeEnd",i);const{x:c,y}=i.detail.delta,h=i.currentTarget;h.setAttribute("data-swipe","end"),h.style.removeProperty("--reka-toast-swipe-move-x"),h.style.removeProperty("--reka-toast-swipe-move-y"),h.style.setProperty("--reka-toast-swipe-end-x",`${c}px`),h.style.setProperty("--reka-toast-swipe-end-y",`${y}px`),d.value=!1})}),{default:f(({remaining:i,duration:c})=>[C(w.$slots,"default",{remaining:i,duration:c,open:e(d)})]),_:3},16,["open","type","as","as-child","duration"])]),_:3},8,["present"]))}}),Ge=g({__name:"ToastAnnounceExclude",props:{altText:{},asChild:{type:Boolean},as:{}},setup(r){return(s,a)=>(u(),p(e(V),{as:s.as,"as-child":s.asChild,"data-reka-toast-announce-exclude":"","data-reka-toast-announce-alt":s.altText||void 0},{default:f(()=>[C(s.$slots,"default")]),_:3},8,["as","as-child","data-reka-toast-announce-alt"]))}}),Ze=g({__name:"ToastClose",props:{asChild:{type:Boolean},as:{default:"button"}},setup(r){const s=r,a=Ye(),{forwardRef:t}=O();return(o,d)=>(u(),p(Ge,{"as-child":""},{default:f(()=>[S(e(V),R(s,{ref:e(t),type:o.as==="button"?"button":void 0,onClick:e(a).onClose}),{default:f(()=>[C(o.$slots,"default")]),_:3},16,["type","onClick"])]),_:3}))}}),ce=g({__name:"FocusProxy",emits:["focusFromOutsideViewport"],setup(r,{emit:s}){const a=s,t=q();return(o,d)=>(u(),p(e(me),{"aria-hidden":"true",tabindex:"0",style:{position:"fixed"},onFocus:d[0]||(d[0]=w=>{var c;const n=w.relatedTarget;!((c=e(t).viewport.value)!=null&&c.contains(n))&&a("focusFromOutsideViewport")})},{default:f(()=>[C(o.$slots,"default")]),_:3}))}}),Je=g({__name:"DismissableLayerBranch",props:{asChild:{type:Boolean},as:{}},setup(r){const s=r,{forwardRef:a,currentElement:t}=O();return oe(()=>{ue.branches.add(t.value)}),_e(()=>{ue.branches.delete(t.value)}),(o,d)=>(u(),p(e(V),R({ref:e(a)},s),{default:f(()=>[C(o.$slots,"default")]),_:3},16))}}),Qe=g({inheritAttrs:!1,__name:"ToastViewport",props:{hotkey:{default:()=>["F8"]},label:{type:[String,Function],default:"Notifications ({hotkey})"},asChild:{type:Boolean},as:{default:"ol"}},setup(r){const s=r,{hotkey:a,label:t}=ye(s),{forwardRef:o,currentElement:d}=O(),{CollectionSlot:w,getItems:n}=ae(),i=q(),c=D(()=>i.toastCount.value>0),y=x(),h=x(),F=D(()=>a.value.join("+").replace(/Key/g,"").replace(/Digit/g,""));we(a.value,()=>{d.value.focus()}),oe(()=>{i.onViewportChange(d.value)}),Te(P=>{const v=d.value;if(c.value&&v){const T=()=>{if(!i.isClosePausedRef.value){const l=new CustomEvent(te);v.dispatchEvent(l),i.isClosePausedRef.value=!0}},E=()=>{if(i.isClosePausedRef.value){const l=new CustomEvent(se);v.dispatchEvent(l),i.isClosePausedRef.value=!1}},A=l=>{!v.contains(l.relatedTarget)&&E()},m=()=>{v.contains(J())||E()},_=l=>{var I,M,$;const b=l.altKey||l.ctrlKey||l.metaKey;if(l.key==="Tab"&&!b){const G=J(),K=l.shiftKey;if(l.target===v&&K){(I=y.value)==null||I.focus();return}const X=B({tabbingDirection:K?"backwards":"forwards"}),z=X.findIndex(he=>he===G);Z(X.slice(z+1))?l.preventDefault():K?(M=y.value)==null||M.focus():($=h.value)==null||$.focus()}};v.addEventListener("focusin",T),v.addEventListener("focusout",A),v.addEventListener("pointermove",T),v.addEventListener("pointerleave",m),v.addEventListener("keydown",_),window.addEventListener("blur",T),window.addEventListener("focus",E),P(()=>{v.removeEventListener("focusin",T),v.removeEventListener("focusout",A),v.removeEventListener("pointermove",T),v.removeEventListener("pointerleave",m),v.removeEventListener("keydown",_),window.removeEventListener("blur",T),window.removeEventListener("focus",E)})}});function B({tabbingDirection:P}){const T=n().map(E=>E.ref).map(E=>{const A=[E,...Le(E)];return P==="forwards"?A:A.reverse()});return(P==="forwards"?T.reverse():T).flat()}return(P,v)=>(u(),p(e(Je),{role:"region","aria-label":typeof e(t)=="string"?e(t).replace("{hotkey}",F.value):e(t)(F.value),tabindex:"-1",style:Fe({pointerEvents:c.value?void 0:"none"})},{default:f(()=>[c.value?(u(),p(ce,{key:0,ref:T=>{y.value=e(ie)(T)},onFocusFromOutsideViewport:v[0]||(v[0]=()=>{const T=B({tabbingDirection:"forwards"});e(Z)(T)})},null,512)):L("",!0),S(e(w),null,{default:f(()=>[S(e(V),R({ref:e(o),tabindex:"-1",as:P.as,"as-child":P.asChild},P.$attrs),{default:f(()=>[C(P.$slots,"default")]),_:3},16,["as","as-child"])]),_:3}),c.value?(u(),p(ce,{key:1,ref:T=>{h.value=e(ie)(T)},onFocusFromOutsideViewport:v[1]||(v[1]=()=>{const T=B({tabbingDirection:"backwards"});e(Z)(T)})},null,512)):L("",!0)]),_:3},8,["aria-label","style"]))}}),et=g({__name:"ToastTitle",props:{asChild:{type:Boolean},as:{}},setup(r){const s=r;return O(),(a,t)=>(u(),p(e(V),ne(re(s)),{default:f(()=>[C(a.$slots,"default")]),_:3},16))}}),tt=g({__name:"ToastDescription",props:{asChild:{type:Boolean},as:{}},setup(r){const s=r;return O(),(a,t)=>(u(),p(e(V),ne(re(s)),{default:f(()=>[C(a.$slots,"default")]),_:3},16))}}),st=g({__name:"Toast",props:{class:{},variant:{},onOpenChange:{type:Function},defaultOpen:{type:Boolean},forceMount:{type:Boolean},type:{},open:{type:Boolean},duration:{},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pause","resume","swipeStart","swipeMove","swipeCancel","swipeEnd","update:open"],setup(r,{emit:s}){const a=r,t=s,o=D(()=>{const{class:w,...n}=a;return n}),d=$e(o,t);return(w,n)=>(u(),p(e(qe),R(e(d),{class:e(U)(e(it)({variant:w.variant}),a.class),"onUpdate:open":w.onOpenChange}),{default:f(()=>[C(w.$slots,"default")]),_:3},16,["class","onUpdate:open"]))}}),at=g({__name:"ToastClose",props:{asChild:{type:Boolean},as:{},class:{}},setup(r){const s=r,a=D(()=>{const{class:t,...o}=s;return o});return(t,o)=>(u(),p(e(Ze),R(a.value,{class:e(U)("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",s.class)}),{default:f(()=>[S(e(Be),{class:"h-4 w-4"})]),_:1},16,["class"]))}}),pe=g({__name:"ToastDescription",props:{asChild:{type:Boolean},as:{},class:{}},setup(r){const s=r,a=D(()=>{const{class:t,...o}=s;return o});return(t,o)=>(u(),p(e(tt),R({class:e(U)("text-sm opacity-90",s.class)},a.value),{default:f(()=>[C(t.$slots,"default")]),_:3},16,["class"]))}}),ot=g({__name:"ToastProvider",props:{label:{},duration:{},swipeDirection:{},swipeThreshold:{}},setup(r){const s=r;return(a,t)=>(u(),p(e(Oe),ne(re(s)),{default:f(()=>[C(a.$slots,"default")]),_:3},16))}}),nt=g({__name:"ToastTitle",props:{asChild:{type:Boolean},as:{},class:{}},setup(r){const s=r,a=D(()=>{const{class:t,...o}=s;return o});return(t,o)=>(u(),p(e(et),R(a.value,{class:e(U)("text-sm font-semibold [&+div]:text-xs",s.class)}),{default:f(()=>[C(t.$slots,"default")]),_:3},16,["class"]))}}),rt=g({__name:"ToastViewport",props:{hotkey:{},label:{type:[String,Function]},asChild:{type:Boolean},as:{},class:{}},setup(r){const s=r,a=D(()=>{const{class:t,...o}=s;return o});return(t,o)=>(u(),p(e(Qe),R(a.value,{class:e(U)("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",s.class)}),null,16,["class"]))}}),it=Ce("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--reka-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--reka-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),lt={class:"grid gap-1"},wt=g({__name:"Toaster",setup(r){const{toasts:s}=be();return(a,t)=>(u(),p(e(ot),null,{default:f(()=>[(u(!0),Q(ee,null,Ae(e(s),o=>(u(),p(e(st),R({key:o.id,ref_for:!0},o),{default:f(()=>[Ie("div",lt,[o.title?(u(),p(e(nt),{key:0},{default:f(()=>[H(j(o.title),1)]),_:2},1024)):L("",!0),o.description?(u(),Q(ee,{key:1},[Me(o.description)?(u(),p(e(pe),{key:0},{default:f(()=>[(u(),p(le(o.description)))]),_:2},1024)):(u(),p(e(pe),{key:1},{default:f(()=>[H(j(o.description),1)]),_:2},1024))],64)):L("",!0),S(e(at))]),(u(),p(le(o.action)))]),_:2},1040))),128)),S(e(rt))]),_:1}))}});export{wt as _};
